/* VALTheme.theme.css
 * Unified SoftGlass theme layer (toggleable)
 *
 * IMPORTANT:
 * - All global theme effects are scoped under :root.val-theme-enabled
 *   so the website stays default when the theme is OFF.
 */

:root.val-theme-enabled {
  color-scheme: dark;

  /* Palette (mirrors the Dock look) */
  --val-color-bg-deep: #000000;
  --val-color-bg-panel: rgba(2, 10, 20, 0.96);
  --val-color-bg-panel-soft: rgba(2, 10, 20, 0.78);

  --val-color-accent: #4ec5ff;
  --val-color-accent-soft: rgba(78, 197, 255, 0.7);
  --val-color-accent-strong: #32f3ff;

  --val-color-text-primary: #f5fbff;
  --val-color-text-muted: rgba(245, 251, 255, 0.70);

  --val-color-border-soft: rgba(255, 255, 255, 0.08);
  --val-color-border-strong: rgba(88, 207, 255, 0.45);

  --val-shadow-strong: 0 10px 30px rgba(0, 0, 0, 0.7);
  --val-radius-panel: 18px;
}

/* Generic glass panel scaffold (optional utility class) */
:root.val-theme-enabled .val-glass-panel {
  background:
    linear-gradient(135deg, rgba(255, 255, 255, 0.06), rgba(255, 255, 255, 0.02));
  background-color: var(--val-color-bg-panel, rgba(2, 10, 20, 0.96));
  border-radius: var(--val-radius-panel, 18px);
  border: 1px solid var(--val-color-border-soft, rgba(255, 255, 255, 0.08));
  box-shadow:
    0 0 22px rgba(4, 20, 35, 0.9),
    0 0 18px rgba(20, 120, 180, 0.55),
    var(--val-shadow-strong, 0 10px 30px rgba(0,0,0,0.7));
  backdrop-filter: blur(18px);
  -webkit-backdrop-filter: blur(18px);
  color: var(--val-color-text-primary, #f5fbff);
}

/* (Legacy) Static SoftGlass chat background â€” kept for compatibility but scoped to theme ON */
:root.val-theme-enabled .val-theme-chat-bg-mask {
  background:
    radial-gradient(circle at 50% 40%, rgba(50, 130, 200, 0.16), transparent 60%),
    radial-gradient(circle at 85% 100%, rgba(20, 80, 150, 0.2), rgba(1, 3, 8, 1) 70%);
  background-color: #020509;
}

/* Neural overlay container
 * - Injected by VALTheme.main.js only when enabled
 * - Kept BELOW the Control Centre dock (dock z-index is 9998)
 */
:root.val-theme-enabled .val-theme-idle-overlay {
  position: fixed;
  inset: 0;
  pointer-events: none;

  /* Important for "background vs bands" issues:
     we keep it above the webpage so it always covers the viewport. */
  z-index: 9997;

  transition: opacity 1s ease;
  will-change: opacity;
}

:root.val-theme-enabled .val-theme-idle-overlay-canvas {
  width: 100%;
  height: 100%;
  display: block;
}
